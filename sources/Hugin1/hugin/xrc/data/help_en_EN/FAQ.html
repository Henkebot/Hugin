<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<title>hugin Frequently Asked Questions</title>
<!--#include virtual="/ssi/css.html"-->
</head>
<body>
<!--#include virtual="/ssi/menu.html"-->
<div class="content">
<h1><Outdated FAQ</h1>
<p>
This FAQ is outdated, please use the FAQ at <a href="http://wiki.panotools.org/Hugin_FAQ">http://wiki.panotools.org/Hugin_FAQ</a>.
</p>
<h1>hugin Frequently Asked Questions</h1>

<p><strong>This document contains answers to questions that have been asked by
users on the <a
href="http://www.email-lists.org/mailman/listinfo/ptx">Ptx mailing
list</a> and elsewhere.</strong></p>

<p>
  The answers refer to a fairly recent snapshot of hugin.
</p>

<p>
  This is a FAQ for hugin, and contains mostly hugin specific questions.
  General Panorama Tools FAQ's:
</p>
<ul>
  <li>
    <a href="http://www.path.unimelb.edu.au/~dersch/FAQ.html">Panorama Tools FAQ</a> from Helmut Dersch.
  </li>
</ul>


<h2><a name="top"> Questions </a> </h2>

<h3> General questions </h3>

<ul>
  <li>
    <a href="#g_mac">Can hugin be used on the Mac?</a>
  </li>
  <li>
    <a href="#g_enblend_fail">Enblend 2.1 does not work with hugin (windows only) ?</a>
  </li>
</ul>


<h3> Control point selection </h3>
<ul>
  <li>
    <a href="#cp_add">How do I add control points?</a>
  </li>
  <li>
    <a href="#cp_scroll">How do I scroll both images at the same time?</a>
  </li>
</ul>

<h3> Common problems encountered while creating a panorama</h3>
<ul>
  <li>
    <a href="#problems_curvedhorizon">In my panorama, the horizon is curved. How do I straighten it?</a>
  </li>
  <li>
    <a href="#problems_circledpano">When optimizing my 360 degree panorama it results in a circle instead of a hfov-360 panorama. How do I make hugin recognize it's a 360 degree panorama?</a>
  </li>
  <li>
    <a href="#problmes_blackblends">There are dark blends between two images, how do I remove them?</a>
  </li>
</ul>


<h3> Panorama Postprocessing </h3>
<ul>
  <li>
    <a href="#pano_gimp_layers">How do I produce a layered panorama if the GIMP can't read a PSD?</a>
  </li>
</ul>

<h2> Answers </h2>

<h3> General questions </h3>

<h4><a href="#top" name="g_mac">Can hugin be used on the Mac?</a></h4>
<p>
  Yes. The beta version of HuginOSX is available.
</p>

<h4><a href="#top" name="g_enblend_fail">Enblend 2.1 does not work with hugin? (windows only)</a></h4>
<p>
  Enblend 2.1 cannot read the TIFF files created by hugin and nona.
</p>
<p>
  The windows executable of enblend 2.1 was not compiled with support for compressed TIFF files, which
  nona produces. Until a new version of enblend is available from the authors, I provide a enblend build
  with complete TIFF support. <a href="http://hugin.sourceforge.net/snapshots/windows/enblend-2.1.1_win32.zip">Download it here</a>
</p>

<h3> Control point selection </h3>

<h4><a href="#top" name="cp_add">How do I add control points?</a></h4>

<p>
  The control point editor is quite powerful, but its usage is
  probably not obvious on the first try. Here are some ways
  the developers use the Control Point panel:
</p>

<ol>
  <li>
    <p> Selecting control points in <b>100%</b> mode. </p>
    <p>
      This method needs some scrolling, if big images are used. You
      might want to try the <b>fit to window</b> zoom setting in that case.
      Switch to the Control Points tab, and use the following settings:
    </p>
<pre>Zoom: 100%
 [X] auto fine tune
 [X] auto add
 [X] auto estimate</pre>
    <ul>
      <li> Click on a prominent feature in the left image.
        If the image pair already contains control points, hugin
        will try to select the point in the other image.
      </li>
      <li> If its the first point in this pair, click near the same
        feature on the right image. The second point will be placed and fine tuned
        automatically.
      </li>
      <li> If you are not happy with the placement, both points
        can be moved by dragging them to a better position.
        Press the "f" key to fine tune the point in a small area.
      </li>
    </ul>
  </li>


  <li>
    <p> Selecting control points in <b>fit to window</b> mode. </p>
    <p>
      I uses this mode if I need to set points on big images.
      Switch to the Control Points tab, and use the following settings:
    </p>
<pre>Zoom: fit to window
 [X] auto fine tune
 [ ] auto add
 [X] auto estimate</pre>
    <ul>
      <li> Click on left image. The image is shown in 100% view. </li>
      <li> Within the detailed view, click on a prominent feature.
        If the image pair already contains control points, hugin
        will try to select the point in the other image.
      </li>
      <li> If its the first point in this pair, click near the same
        feature on the right image. The point will be placed and
        fine tuned automatically.
      </li>
      <li> If you are not happy with the placement, both points
        can be moved by clicking at the desired
        position. Move the point close to the desired feature
        and press the "f" key to fine tune the point.
      </li>
      <li> When the points are on the same feature, press the
        right mouse button, or press the "a" key to add the
        control point pair. It will then be shown in the list
        below the image.
      </li>
    </ul>
    <br/>
  </li>
</ol>

<h4><a href="#top" name="cp_scroll">How do I scroll both images at the same time?</a></h4>
<p>
  Try pressing the shift key while moving the mouse. The control key
  or the middle mouse button can be used to scroll only the image under
  the mouse cursor
</p>


<h3> Common problems encountered while creating a panorama</h3>
<h4><a href="#top" name="problems_curvedhorizon">In my panorama, the horizon is curved. How do I straighten it?</a></h4>
<p>
If the panorama looks nice but the horizon is curved, there are two ways to
improve the image and straighten the horizon. First, try optimizing the view
by selecting &quot;Positions and View&quot; as the optimization mode and run
the optimizer afterwards. By clicking &quot;Calculate Field of View&quot; in
the &quot;Stitcher&quot; tab and displaying the preview window afterwards you
can check if the image has been improved.
<br><br>
If it is still curved, you have to add horizontal guide control points in the
&quot;Control Points&quot; tab. What works best for me is to select the first
image in the left half of the window and the image next to it in the right
window, just as you do with normal control points. Then add a control point in
some left part of the left image, where the horizon is. In the right image
select a point on the horizon in the right part of the image. Once this point
is added, change its type in the list below to &quot;horiz. Line&quot;, as
displayed in the image below (the red circles in the left/right part of the
left/right image). You might want to switch off the auto-add and auto-estimate
options while doing this to avoid naggy dialogs while adding this guide
points (which I forgot in this screenshot).
	<center><img src="../help_common/horiz-guide.jpg" alt="Hugin screenshot displaying
		horizontal guide line between two images"></center>
<br>
Then, just cycle one image pair to the right and do the same thing. For some
images where lots of buildings are you have to guess where the horizon is,
but do not worry, you do not have to be that exact (and most people can guess
the horizon quite well without seeing it, must be some kind of evolutional
ability ;-).
<br><br>
Afterwards run the optimizer with the &quot;Positions and View&quot; setting,
update the preview and check the result. For panoramas that have more than one
horizontal line of images, you usually only have to set horizontal guides for
one line.
</p>
<h4><a href="#top" name="problems_circledpano">When optimizing my 360 degree
panorama it results in a circle instead of a hfov-360 panorama. How do I make
hugin recognize it's a 360 degree panorama?</a></h4>
<p>
In some 360 degree panoramas you might encounter an optimization like this:
<center><img src="../help_common/problem-circle.jpg" alt="360 degree panorama invalidly
optimized as circled pictures"></center>
<br>

This is not a bug, but a feature ;-) As the panorama tools can handle
images in any orientation, once the optimizer has found a strong local
minimum it might be unable to escape from it. The way of avoiding this
is to guide the optimizer by giving rough picture estimates for the
yaw values (as pointed out by <a href="http://www.postle.net/">Bruno
Postle</a>). To do this, count how many pictures are in your horizon
line. For images with a horizontal field of view of 40 degrees this
might be 10-12 pictures, sometimes more. Then divide 360 by the
number, for example lets assume you have 12 pictures in one horizontal
line, so 360 / 12 = 30. In the &quot;Images&quot; tab enter the yaw
values in increasing order. Be careful to do this in the right order,
i.e. if you took your pictures from left to right, just add 30 to each
yaw value, starting with 0 for the first picture, then 30, 60, 90,
etc. This does not have to be very exact, its just there to avoid the
optimizer stepping into a local minima it might not be able to escape
from. If you have multiple horizontal lines of images, you can do this
for the other lines as well right now or try without doing so and if
it fails, redo it later. Be sure to save your .pto file before
optimizing.

<br><br>
Now optimize using &quot;the Custom parameters below&quot; and clear the pitch
and roll and view optimizations. For the &quot;yaw&quot; box, select every
picture but the first. Then optimize. Now you should land at a pretty good
first estimate, which you can check in the preview tab after updating the
preview. With this rough estimate, you can apply the normal &quot;Position
and View&quot; optimization now.
<br><br>
If it still has some circles, you can try to set and optimize the pitch, too.
</p>
<h4><a href="#top" name="problmes_blackblends">There are dark blends between
two images, how do I remove them?</a></h4>
<p>
If there are visible black zones between two source images in the final output
image but they are not visible in the preview, the most likely reason for that
is feathering happening with the black background. This occurs if two images
overlap only slightly and the feather width is set to more pixels than the
overlap. It happens because feathering happens inside the image boundary, up
to 'feather size' pixels into the image. If there is no overlapping picture
within this border, the feathering takes place between the black background
and the picture, which makes the black background shine through the image. To
change this, either: (a) decrease the feather size to below the overlapping
amount, or (b) increase the overlap of the two pictures. While (a) is always
possible if there is any overlapping, (b) should be considered while taking
the pictures in the first place.
</p>


<h3> Panorama Postprocessing </h3>
<h4><a href="#top" name="pano_gimp_layers">I want to use the GIMP to tweak the seams of my image, but the GIMP can't read a PSD format file.</a></h4>
<p>
  Unfortunately, <a href="http://www.gimp.org">The GIMP</a> can't read PSD formatted files
  generated by PTStitcher, and the multiple tiff output it produces is cumbersome to use. There are  two possiblilites to work around this:
</p>
  <ol>
    <li>
      <p>
        Use our experimental stitcher, nona, to output to a multiple
        tiff format. Just follow the following procedure:
      </p>
      <ul>
        <li>
        <p>use hugin to create the panorama project, and choose "Multiple TIFF with mask" as output format. Save the project and start nona on the commandline:</p>
      <pre>$ nona pano_project.pto multi_layer</pre>
        </li>
      </ul>
      <p>
        This will will produce a multi_layer.tif file, that contains
        all remapped images, cropped to their bounding box. This will
        save a lot of space, compared to a "traditional" PTStitcher
        layered output file, where all layers have the full panorama size.
      </p>
      <p>
        Unfortunately, The GIMP 1.2 and 1.3 can't load multilayer TIFF files.
        You have to download and compile an <a href="http://sourceforge.net/tracker/index.php?func=detail&amp;aid=859181&amp;group_id=77506&amp;atid=550443">updated tiff plugin</a>.
        It has been tested with GIMP 1.2 and GIMP 1.3.22.
      </p>
    </li>

    <li>
      <p>
        If this is to cumbersome or you need PTStitcher features not
        supported by nona, you can also use <a href="http://www.vierpi.de/tif2xcf.html">tif2xcf</a>, to combine the multiple TIFF output into a multilayer XCF.
      </p>
      <p>
        <b>Important:</b> PTStitcher does not create the output files, if the output file
        contains an .tif extension. So, specify only the basename,
        without the extension.
      </p>
      <p>
        Unfortunately this wastes tons of memory because it stores
        each remapped image in a layer with the size of the final
        panorama.
        </p>
    </li>
  </ol>


<!--#include virtual="/ssi/homelink.html"-->

</div> </body> </html>
